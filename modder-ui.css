/*
 * ModderUI - Shadcn UI & iOS 7-9 Inspired (Full Integration)
 * Utility-first CSS Framework (Web Based & Fully Responsive)
 * Version: 2.6.0
 * Author: Your Name/Modder
 * License: MIT
 *
 * This version fully integrates Shadcn UI's modern, flat, and subtle depth
 * aesthetic with iOS 7-9 minimalism, alongside a robust theme system.
 */

/* ========================================= */
/* 1. Base Styles & Reset                      */
/* ========================================= */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent; /* Disable tap highlight on iOS */
  /* Consistent transitions for all interactive elements */
  transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out,
              border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,
              transform 0.15s ease-in-out, opacity 0.15s ease-in-out,
              filter 0.15s ease-in-out; /* Add filter for brightness changes */
}

html {
  font-size: 16px; /* Base for rem units for desktop */
}
/* Define default (ModderUI) theme variables */
:root {
    --modder-text-label: #1a1a1a;
    --modder-text-secondary-label: #666666;
    --modder-text-tertiary-label: #999999;
    --modder-text-quaternary-label: #cccccc;
    --modder-text-white: #ffffff;
    --modder-text-black: #000000;
    --modder-text-accent-primary: #007aff;
    --modder-text-accent-red: #eb445a;
    --modder-text-link: #007aff;

    --modder-bg-page: #f8f8f8;
    --modder-bg-card: #ffffff;
    --modder-bg-separator: #ededed;
    --modder-bg-input-fill: #f0f0f0;
    --modder-bg-accent-primary: #007aff;
    --modder-bg-accent-red: #eb445a;

    --modder-border-color: #ededed;

    --modder-backdrop-light-base: rgba(255, 255, 255, 0.9);
    --modder-backdrop-dark-base: rgba(18, 18, 18, 0.75);

    /* Shadcn UI inspired button colors (will be overridden by iOS mode) */
    --modder-btn-default-bg: #1a1a1a;
    --modder-btn-default-color: #ffffff;
    --modder-btn-default-border: #1a1a1a;

    --modder-btn-outline-border: #d4d4d4;
    --modder-btn-outline-color: #1a1a1a;

    --modder-btn-secondary-bg: #f0f0f0;
    --modder-btn-secondary-color: #1a1a1a;
    --modder-btn-secondary-border: #f0f0f0;

    /* Add other component-specific variables if needed */
}

/* Dark theme variables for ModderUI (default) */
body[data-theme='dark'] {
    --modder-text-label: #f0f0f0;
    --modder-text-secondary-label: #cccccc;
    --modder-text-tertiary-label: #999999;
    --modder-text-quaternary-label: #666666;
    --modder-text-white: #000000;
    --modder-text-black: #ffffff;
    --modder-text-accent-primary: #488aff;
    --modder-text-accent-red: #ff6b8a;
    --modder-text-link: #488aff;

    --modder-bg-page: #121212;
    --modder-bg-card: #1e1e1e;
    --modder-bg-separator: #333333;
    --modder-bg-input-fill: #2a2a2a;
    --modder-bg-accent-primary: #488aff;
    --modder-bg-accent-red: #ff6b8a;

    --modder-border-color: #333333;

    /* Shadcn UI inspired button colors for dark mode */
    --modder-btn-default-bg: #f0f0f0;
    --modder-btn-default-color: #1a1a1a;
    --modder-btn-default-border: #f0f0f0;

    --modder-btn-outline-border: #666666;
    --modder-btn-outline-color: #f0f0f0;

    --modder-btn-secondary-bg: #2a2a2a;
    --modder-btn-secondary-color: #f0f0f0;
    --modder-btn-secondary-border: #2a2a2a;
}

/* Apply variables to common elements */
body {
    color: var(--modder-text-label);
    background-color: var(--modder-bg-page);
}
.text-label { color: var(--modder-text-label); }
.text-secondary-label { color: var(--modder-text-secondary-label); }
.text-tertiary-label { color: var(--modder-text-tertiary-label); }
.text-quaternary-label { color: var(--modder-text-quaternary-label); }
.text-white { color: var(--modder-text-white); }
.text-black { color: var(--modder-text-black); }
.text-accent-primary { color: var(--modder-text-accent-primary); }
.text-accent-red { color: var(--modder-text-accent-red); }
.text-link { color: var(--modder-text-link); }

.bg-page { background-color: var(--modder-bg-page); }
.bg-card { background-color: var(--modder-bg-card); }
.bg-separator { background-color: var(--modder-bg-separator); }
.bg-input-fill { background-color: var(--modder-bg-input-fill); }
.bg-accent-primary { background-color: var(--modder-bg-accent-primary); }
.bg-accent-red { background-color: var(--modder-bg-accent-red); }

.border-thin { border-color: var(--modder-border-color); }
.border { border-color: var(--modder-border-color); }

.backdrop-light-base { background-color: var(--modder-backdrop-light-base); }
.backdrop-dark-base { background-color: var(--modder-backdrop-dark-base); }

/* Apply button variables */
.btn-default {
    background-color: var(--modder-btn-default-bg);
    color: var(--modder-btn-default-color);
    border-color: var(--modder-btn-default-border);
}
.btn-outline {
    border-color: var(--modder-btn-outline-border);
    color: var(--modder-btn-outline-color);
}
.btn-secondary {
    background-color: var(--modder-btn-secondary-bg);
    color: var(--modder-btn-secondary-color);
    border-color: var(--modder-btn-secondary-border);
}

/* Other theme-dependent components, e.g. .modder-top-bar */
.modder-top-bar {
    background-color: var(--modder-backdrop-light-base); /* Use backdrop var for blur bg */
    color: var(--modder-text-label);
}
.modder-top-bar a { color: var(--modder-text-label); }
.modder-top-bar-controls { border-left-color: var(--modder-border-color); }
.modder-top-bar-btn { color: var(--modder-text-label); }

/* ... continue applying variables throughout the modder-ui.css for all components */
/* This will require going through all existing color-related rules in modder-ui.css
   and replacing explicit colors with `var(--modder-...)` */
/* This is a large manual process, but crucial for theme switching */
/* Base font stack mimicking Apple's San Francisco */
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  line-height: 1.3; /* Slightly more relaxed line height */
}

/* iOS-style scrollbar (hidden for cleaner look) */
::-webkit-scrollbar {
  width: 0;
  height: 0;
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: transparent;
}

/* Default link styles */
a {
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

/* ========================================= */
/* 2. Theme-dependent Colors                 */
/* ========================================= */

/* Light Theme (Default) */
body[data-theme='light'] {
  color: #1a1a1a; /* Dark text for light background */
  background-color: #f8f8f8; /* Very light grey page background */
}
body[data-theme='light'] .text-label { color: #1a1a1a; }
body[data-theme='light'] .text-secondary-label { color: #666666; }
body[data-theme='light'] .text-tertiary-label { color: #999999; }
body[data-theme='light'] .text-quaternary-label { color: #cccccc; }
body[data-theme='light'] .text-white { color: #ffffff; } /* Explicit white text */
body[data-theme='light'] .text-black { color: #000000; } /* Explicit black text */
body[data-theme='light'] .text-accent-primary { color: #007aff; } /* Primary accent blue */
body[data-theme='light'] .text-accent-red { color: #eb445a; } /* Primary accent red */
body[data-theme='light'] .text-link { color: #007aff; }

body[data-theme='light'] .bg-page { background-color: #f8f8f8; }
body[data-theme='light'] .bg-card { background-color: #ffffff; }
body[data-theme='light'] .bg-separator { background-color: #ededed; }
body[data-theme='light'] .bg-input-fill { background-color: #f0f0f0; }
body[data-theme='light'] .bg-accent-primary { background-color: #007aff; }
body[data-theme='light'] .bg-accent-red { background-color: #eb445a; }

body[data-theme='light'] .border-thin { border-color: #ededed; }
body[data-theme='light'] .border { border-color: #ededed; }

body[data-theme='light'] .backdrop-light-base { background-color: rgba(255, 255, 255, 0.9); }
body[data-theme='light'] .backdrop-dark-base { background-color: rgba(18, 18, 18, 0.75); }

/* Dark Theme */
body[data-theme='dark'] {
  color: #f0f0f0; /* Light text for dark background */
  background-color: #121212; /* Dark page background */
}
body[data-theme='dark'] .text-label { color: #f0f0f0; }
body[data-theme='dark'] .text-secondary-label { color: #cccccc; }
body[data-theme='dark'] .text-tertiary-label { color: #999999; }
body[data-theme='dark'] .text-quaternary-label { color: #666666; }
body[data-theme='dark'] .text-white { color: #000000; } /* Explicit white text becomes black in dark mode */
body[data-theme='dark'] .text-black { color: #ffffff; } /* Explicit black text becomes white in dark mode */
body[data-theme='dark'] .text-accent-primary { color: #488aff; } /* Lighter accent blue for dark mode */
body[data-theme='dark'] .text-accent-red { color: #ff6b8a; } /* Lighter accent red for dark mode */
body[data-theme='dark'] .text-link { color: #488aff; }

body[data-theme='dark'] .bg-page { background-color: #121212; }
body[data-theme='dark'] .bg-card { background-color: #1e1e1e; }
body[data-theme='dark'] .bg-separator { background-color: #333333; }
body[data-theme='dark'] .bg-input-fill { background-color: #2a2a2a; }
body[data-theme='dark'] .bg-accent-primary { background-color: #488aff; }
body[data-theme='dark'] .bg-accent-red { background-color: #ff6b8a; }

body[data-theme='dark'] .border-thin { border-color: #333333; }
body[data-theme='dark'] .border { border-color: #333333; }

body[data-theme='dark'] .backdrop-light-base { background-color: rgba(30, 30, 30, 0.85); }
body[data-theme='dark'] .backdrop-dark-base { background-color: rgba(18, 18, 18, 0.75); }

/* Home page specific gradient background (always dark-toned) */
body.home-page {
  background: linear-gradient(135deg, #121212 0%, #333333 50%, #121212 100%);
  color: #ffffff; /* White text for home page */
}
body.home-page .hero-title,
body.home-page .hero-subtitle {
  color: #ffffff; /* Ensure hero text is white */
}
body.home-page .app-icon {
  background-color: #000000; /* Black for contrast */
}
body.home-page .github-link {
  background-color: #000000; /* Black for GitHub button */
}
body.home-page .github-link:hover {
    background-color: #333333;
}


/* ========================================= */
/* 3. Spacing (8pt Grid System)              */
/* ========================================= */
/* A comprehensive set of spacing utilities based on 8pt grid */
/* Using a Sass-like loop for brevity. In pure CSS, these would be expanded. */
.p-0 { padding: 0; } .m-0 { margin: 0; }
.p-2 { padding: 0.125rem; } .m-2 { margin: 0.125rem; } /* 2px */
.p-4 { padding: 0.25rem; } .m-4 { margin: 0.25rem; } /* 4px */
.p-8 { padding: 0.5rem; } .m-8 { margin: 0.5rem; } /* 8px */
.p-12 { padding: 0.75rem; } .m-12 { margin: 0.75rem; } /* 12px */
.p-16 { padding: 1rem; } .m-16 { margin: 1rem; } /* 16px */
.p-20 { padding: 1.25rem; } .m-20 { margin: 1.25rem; } /* 20px */
.p-24 { padding: 1.5rem; } .m-24 { margin: 1.5rem; } /* 24px */
.p-32 { padding: 2rem; } .m-32 { margin: 2rem; } /* 32px */
.p-40 { padding: 2.5rem; } .m-40 { margin: 2.5rem; } /* 40px */
.p-48 { padding: 3rem; } .m-48 { margin: 3rem; } /* 48px */
.p-56 { padding: 3.5rem; } .m-56 { margin: 3.5rem; } /* 56px */
.p-64 { padding: 4rem; } .m-64 { margin: 4rem; } /* 64px */

/* Axis specific (px, py, mx, my) */
.px-8 { padding-left: 0.5rem; padding-right: 0.5rem; } /* 8px */
.py-8 { padding-top: 0.5rem; padding-bottom: 0.5rem; } /* 8px */
.mx-auto { margin-left: auto; margin-right: auto; }

/* Direction specific (pt, pb, pl, pr, mt, mb, ml, mr) */
.pt-8 { padding-top: 0.5rem; }
.pb-8 { padding-bottom: 0.5rem; }
.pl-8 { padding-left: 0.5rem; }
.pr-8 { padding-right: 0.5rem; }
.mt-8 { margin-top: 0.5rem; }
.mb-8 { margin-bottom: 0.5rem; }
.ml-8 { margin-left: 0.5rem; }
.mr-8 { margin-right: 0.5rem; }

/* Gap for flex/grid */
.gap-4 { gap: 0.25rem; } /* 4px */
.gap-8 { gap: 0.5rem; }  /* 8px */
.gap-16 { gap: 1rem; }   /* 16px */
.gap-24 { gap: 1.5rem; } /* 24px */

/* ========================================= */
/* 4. Typography (iOS System Fonts & Sizes)  */
/* ========================================= */
/* Dynamic Type sizes based on iOS defaults for body, headline, title etc. */
/* Using 'rem' for scalability */
.text-caption-2 { font-size: 0.6875rem; line-height: 0.8125rem; font-weight: 400; } /* 11px */
.text-caption-1 { font-size: 0.75rem; line-height: 1rem; font-weight: 400; }      /* 12px */
.text-footnote { font-size: 0.8125rem; line-height: 1.125rem; font-weight: 400; } /* 13px */
.text-subheadline { font-size: 0.9375rem; line-height: 1.25rem; font-weight: 400; } /* 15px */
.text-callout { font-size: 1rem; line-height: 1.375rem; font-weight: 400; }      /* 16px */
.text-body { font-size: 1.0625rem; line-height: 1.375rem; font-weight: 400; }     /* 17px */
.text-headline { font-size: 1.0625rem; line-height: 1.375rem; font-weight: 600; } /* 17px Semibold */
.text-title-3 { font-size: 1.25rem; line-height: 1.5rem; font-weight: 400; }     /* 20px */
.text-title-2 { font-size: 1.375rem; line-height: 1.625rem; font-weight: 400; }  /* 22px */
.text-title-1 { font-size: 1.75rem; line-height: 2.125rem; font-weight: 700; }   /* 28px Bold */
.text-large-title { font-size: 2.75rem; line-height: 3.25rem; font-weight: 700; } /* 44px Bold */

.font-light { font-weight: 300; }
.font-normal { font-weight: 400; }
.font-medium { font-weight: 500; }
.font-semibold { font-weight: 600; }
.font-bold { font-weight: 700; }
.font-black { font-weight: 900; }

.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }

/* ========================================= */
/* 5. Layout & Display (Responsive)          */
/* ========================================= */
.block { display: block; }
.inline { display: inline; }
.inline-block { display: inline-block; }
.flex { display: flex; }
.grid { display: grid; }
.hidden { display: none; }

.flex-row { flex-direction: row; }
.flex-col { flex-direction: column; }
.items-start { align-items: flex-start; }
.items-center { align-items: center; }
.items-end { align-items: flex-end; }
.justify-start { justify-content: flex-start; }
.justify-center { justify-content: center; }
.justify-end { justify-content: flex-end; }
.justify-between { justify-content: space-between; }
.flex-wrap { flex-wrap: wrap; }
.flex-grow { flex-grow: 1; }
.flex-none { flex: none; }
.shrink-0 { flex-shrink: 0; }

.w-full { width: 100%; }
.h-full { height: 100%; }
.min-h-screen { min-height: 100vh; }
.max-w-xs { max-width: 20rem; } /* 320px */
.max-w-sm { max-width: 24rem; } /* 384px */
.max-w-md { max-width: 28rem; } /* 448px */
.max-w-lg { max-width: 32rem; } /* 512px */
.max-w-xl { max-width: 38rem; } /* 608px */

.relative { position: relative; }
.absolute { position: absolute; }
.fixed { position: fixed; }
.top-0 { top: 0; } .bottom-0 { bottom: 0; } .left-0 { left: 0; } .right-0 { right: 0; }
.inset-0 { top: 0; right: 0; bottom: 0; left: 0; }

.z-10 { z-index: 10; } .z-20 { z-index: 20; } .z-30 { z-index: 30; } .z-40 { z-index: 40; } .z-50 { z-index: 50; }
.z-modal { z-index: 1000; } /* For modals/alerts */
.z-highest { z-index: 2000; } /* For context menus, etc. */

/* Responsive breakpoints based on common device widths */
@media (min-width: 640px) { /* Small devices (landscape phones, tablets) */
  html { font-size: 17px; } /* Slightly larger base font */
  .sm\:flex { display: flex; }
  .sm\:grid { display: grid; }
  .sm\:w-1\/2 { width: 50%; }
  .sm\:hidden { display: none; }
  .sm\:mx-auto { margin-left: auto; margin-right: auto; }
}

@media (min-width: 768px) { /* Medium devices (tablts, small desktops) */
  html { font-size: 18px; } /* Larger base font */
  .md\:w-1\/2 { width: 50%; }
  .md\:mx-auto { margin-left: auto; margin-right: auto; }
  .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .md\:flex-row { flex-direction: row; }
  .md\:hidden { display: none; }
}

@media (min-width: 1024px) { /* Large devices (desktops) */
  html { font-size: 19px; } /* Even larger base font */
  .lg\:flex-row { flex-direction: row; }
  .lg\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .lg\:hidden { display: none; }
}

/* ========================================= */
/* 6. Borders & Radius                       */
/* ========================================= */
.border-thin { border-width: 0.5px; border-style: solid; }
.border { border-width: 1px; border-style: solid; }

/* Theme-dependent border colors */
body[data-theme='light'] .border-thin,
body[data-theme='light'] .border { border-color: #ededed; }
body[data-theme='dark'] .border-thin,
body[data-theme='dark'] .border { border-color: #333333; }


.border-t-thin { border-top-width: 0.5px; border-top-style: solid; }
.border-b-thin { border-bottom-width: 0.5px; border-bottom-style: solid; }
.border-x-thin { border-left-width: 0.5px; border-right-width: 0.5px; border-style: solid; }
.border-y-thin { border-top-width: 0.5px; border-bottom-width: 0.5px; border-style: solid; }
.border-none { border: none; }

/* Rounded corners, mimicking Shadcn UI typical radii (slightly less rounded than iOS default) */
.rounded-sm { border-radius: 0.25rem; }    /* 4px */
.rounded-md { border-radius: 0.5rem; }     /* 8px */
.rounded-lg { border-radius: 0.625rem; }   /* 10px */
.rounded-xl { border-radius: 0.75rem; }    /* 12px */
.rounded-2xl { border-radius: 1rem; }      /* 16px */
.rounded-3xl { border-radius: 1.5rem; }    /* 24px */
.rounded-full { border-radius: 9999px; }   /* Pills, circles */

/* ========================================= */
/* 7. Shadows & Glassmorphism                */
/* ========================================= */
/* Shadcn UI inspired shadows (subtle, flat, almost no blur) */
.shadow-xs { box-shadow: 0 1px 0 rgba(0,0,0,0.02); }
.shadow-sm { box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
.shadow-md { box-shadow: 0 2px 4px rgba(0,0,0,0.07); }
.shadow-lg { box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
.shadow-xl { box-shadow: 0 8px 16px rgba(0,0,0,0.12); }
.shadow-none { box-shadow: none; }

/* Blurred Effect (for top bar, modals) */
.backdrop-blur-sm {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
.backdrop-blur-md {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
.backdrop-blur-lg {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

/* Transitions for smooth UI changes */
.transition-all { transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
.transition-colors { transition: background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1), color 0.2s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
.transition-transform { transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
.duration-100 { transition-duration: 0.1s; }
.duration-200 { transition-duration: 0.2s; }
.duration-300 { transition-duration: 0.3s; }
.ease-out { transition-timing-function: cubic-bezier(0, 0, 0.2, 1); }
.ease-in-out { transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); }

/* ========================================= */
/* 8. Components                             */
/* ========================================= */

/* Main App Top Bar (includes theme toggle & mode selector) */
.modder-top-bar {
  display: flex;
  justify-content: center; /* Center main links */
  align-items: center;
  margin: 1.5rem auto 2rem; /* 24px top/bottom, auto horizontal */
  padding: 0.25rem; /* 4px */
  border-radius: 2rem; /* Highly rounded pill shape */
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08); /* subtle shadow */
  width: fit-content; /* Shrink to content */
  max-width: 90%;
  position: sticky;
  top: 1rem; /* Stick to top with some margin */
  z-index: 50;
  white-space: nowrap; /* Prevent items from wrapping */
}

/* Theme-dependent Top Bar styles */
body[data-theme='light'] .modder-top-bar {
    background-color: rgba(255, 255, 255, 0.9); /* White blurred */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    color: #1a1a1a; /* Dark text */
}
body[data-theme='dark'] .modder-top-bar {
    background-color: rgba(30, 30, 30, 0.9); /* Dark blurred */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    color: #f0f0f0; /* Light text */
}

.modder-top-bar-nav-links {
    display: flex; /* Show by default for desktop */
}

.modder-top-bar a {
  padding: 0.5rem 1rem; /* 8px 16px */
  border-radius: 1.5rem; /* Matches parent rounding */
  font-weight: 500; /* Medium */
  font-size: 1rem; /* text-callout */
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
  flex-shrink: 0;
}
/* Theme-dependent Top Bar links */
body[data-theme='light'] .modder-top-bar a { color: #1a1a1a; }
body[data-theme='dark'] .modder-top-bar a { color: #f0f0f0; }

body[data-theme='light'] .modder-top-bar a.active {
  background-color: #007aff; /* Accent Primary */
  color: #ffffff; /* White text on active blue */
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15); /* Slightly lifted shadow */
}
body[data-theme='dark'] .modder-top-bar a.active {
  background-color: #488aff; /* Lighter Accent Primary */
  color: #000000; /* Black text on active blue (for contrast) */
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}
body[data-theme='light'] .modder-top-bar a:hover:not(.active) { background-color: #f0f0f5; } /* Subtle hover */
body[data-theme='dark'] .modder-top-bar a:hover:not(.active) { background-color: #2a2a2a; }

.modder-top-bar-controls {
    display: flex;
    align-items: center;
    margin-left: 1rem; /* Space from navigation links */
    padding-left: 1rem;
    /* Optional separator */
    border-left: 1px solid rgba(0,0,0,0.1);
}
body[data-theme='dark'] .modder-top-bar-controls {
    border-left: 1px solid rgba(255,255,255,0.1);
}

.modder-top-bar-btn {
    background-color: transparent;
    border: none;
    padding: 0.5rem 0.75rem;
    border-radius: 1.25rem; /* Pill shape */
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
}
/* Theme-dependent button colors */
body[data-theme='light'] .modder-top-bar-btn { color: #1a1a1a; }
body[data-theme='dark'] .modder-top-bar-btn { color: #f0f0f0; }

body[data-theme='light'] .modder-top-bar-btn:hover { background-color: #f0f0f5; }
body[data-theme='dark'] .modder-top-bar-btn:hover { background-color: #2a2a2a; }

body[data-theme='light'] .modder-top-bar-btn.active { background-color: #ededed; }
body[data-theme='dark'] .modder-top-bar-btn.active { background-color: #3a3a3c; }

/* Mobile Drawer Specific Styles */
.drawer-toggle-btn {
    display: none; /* Hidden by default on larger screens */
    background-color: transparent;
    border: none;
    font-size: 1.2rem;
    cursor: pointer;
    padding: 0.5rem;
}
body[data-theme='light'] .drawer-toggle-btn { color: #1a1a1a; }
body[data-theme='dark'] .drawer-toggle-btn { color: #f0f0f0; }


.drawer-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.6);
    z-index: 100;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}
.drawer-overlay.show {
    opacity: 1;
    visibility: visible;
}

.drawer {
    position: fixed;
    top: 0;
    left: 0;
    width: 250px; /* Drawer width */
    height: 100%;
    transform: translateX(-100%);
    z-index: 101;
    box-shadow: 2px 0 10px rgba(0,0,0,0.2);
    transition: transform 0.3s ease-in-out;
    padding: 1.5rem;
    padding-top: 5rem; /* Space for status bar/notch */
}
body[data-theme='light'] .drawer { background-color: #ffffff; }
body[data-theme='dark'] .drawer { background-color: #1e1e1e; }

.drawer-overlay.show .drawer {
    transform: translateX(0);
}
.drawer-nav-links {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.drawer-nav-links a {
    padding: 0.75rem 1rem;
    border-radius: 0.625rem;
    font-size: 1.1rem;
    font-weight: 500;
}
body[data-theme='light'] .drawer-nav-links a { color: #1a1a1a; background-color: #f0f0f0; }
body[data-theme='dark'] .drawer-nav-links a { color: #f0f0f0; background-color: #2a2a2a; }

body[data-theme='light'] .drawer-nav-links a.active { background-color: #007aff; color: #ffffff; }
body[data-theme='dark'] .drawer-nav-links a.active { background-color: #488aff; color: #000000; }


/* Responsive adjustments for top bar and drawer */
@media (max-width: 768px) {
    .modder-top-bar {
        justify-content: space-between; /* Spread items */
        padding: 0.2rem 1rem; /* More horizontal padding */
        margin: 1rem auto;
        width: 95%; /* Take more width */
    }
    .modder-top-bar-nav-links {
        display: none; /* Hide main links on mobile */
    }
    .modder-top-bar-controls {
        margin-left: 0; /* Remove left margin */
        padding-left: 0;
        border-left: none; /* Remove separator */
    }
    .drawer-toggle-btn {
        display: block; /* Show drawer toggle button */
    }
    .modder-top-bar .modder-top-bar-btn {
        padding: 0.4rem 0.8rem;
        font-size: 0.9rem;
    }
    .modder-top-bar-controls {
        flex-grow: 1; /* Allow controls to spread */
        justify-content: flex-end; /* Push controls to right */
    }
}
@media (max-width: 480px) { /* Even smaller for very narrow phones */
    .modder-top-bar {
        margin: 0.5rem auto;
        padding: 0.15rem 0.8rem;
        border-radius: 1.5rem;
    }
    .modder-top-bar a, .modder-top-bar-btn {
        padding: 0.3rem 0.6rem;
        font-size: 0.8rem;
    }
}


/* Button Component (Shadcn UI style) */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.625rem 1rem; /* 10px 16px (Shadcn default padding) */
  min-height: 2.5rem; /* 40px (Shadcn default height) */
  border-radius: 0.375rem; /* 6px, rounded-md (Shadcn default) */
  font-weight: 500; /* Medium for Shadcn */
  font-size: 0.9375rem; /* 15px (Shadcn default text-sm) */
  cursor: pointer;
  border: 1px solid transparent; /* Default transparent border for Shadcn look */
  text-decoration: none;
  user-select: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  transition: all 0.2s ease-in-out; /* Smoother all-around transition */
}
.btn:hover {
  filter: brightness(1.05); /* Subtle brightness increase on hover */
}
.btn:active {
  filter: brightness(0.9); /* Subtle press effect */
  transform: translateY(0.5px); /* Slight press down effect */
}

/* Button Variants (Shadcn inspired) */
.btn-default {
    background-color: #1a1a1a; /* Dark gray */
    color: #ffffff;
    border-color: #1a1a1a;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}
body[data-theme='dark'] .btn-default {
    background-color: #f0f0f0; /* Light gray */
    color: #1a1a1a;
    border-color: #f0f0f0;
}
.btn-default:hover { filter: brightness(1.1); }
body[data-theme='dark'] .btn-default:hover { filter: brightness(0.95); }


.btn-outline {
    background-color: transparent;
    border-color: #d4d4d4; /* Light gray border */
}
body[data-theme='light'] .btn-outline { color: #1a1a1a; }
body[data-theme='dark'] .btn-outline { color: #f0f0f0; border-color: #666666; }

body[data-theme='light'] .btn-outline:hover { background-color: #f0f0f0; }
body[data-theme='dark'] .btn-outline:hover { background-color: #2a2a2a; }


.btn-secondary {
    background-color: #f0f0f0; /* Light gray fill */
    border-color: #f0f0f0;
}
body[data-theme='light'] .btn-secondary { color: #1a1a1a; }
body[data-theme='dark'] .btn-secondary { background-color: #2a2a2a; color: #f0f0f0; border-color: #2a2a2a; }

body[data-theme='light'] .btn-secondary:hover { background-color: #ededed; }
body[data-theme='dark'] .btn-secondary:hover { background-color: #333333; }


.btn-ghost {
    background-color: transparent;
    border-color: transparent;
}
body[data-theme='light'] .btn-ghost { color: #1a1a1a; }
body[data-theme='dark'] .btn-ghost { color: #f0f0f0; }

body[data-theme='light'] .btn-ghost:hover { background-color: #f0f0f0; }
body[data-theme='dark'] .btn-ghost:hover { background-color: #2a2a2a; }


.btn-link {
    background-color: transparent;
    border-color: transparent;
    text-decoration: underline;
    text-underline-offset: 4px;
    font-weight: 400;
    padding: 0;
    min-height: auto;
}
body[data-theme='light'] .btn-link { color: #007aff; }
body[data-theme='dark'] .btn-link { color: #488aff; }

.btn-link:hover { text-decoration: underline; background-color: transparent; transform: none; filter: none; }


.btn-destructive {
    background-color: #eb445a; /* Accent Red */
    color: #ffffff;
    border-color: #eb445a;
}
body[data-theme='dark'] .btn-destructive { background-color: #ff6b8a; border-color: #ff6b8a; }

.btn-destructive:hover { filter: brightness(1.1); }
body[data-theme='dark'] .btn-destructive:hover { filter: brightness(0.95); }

/* Button Sizes */
.btn-sm { min-height: 2rem; padding: 0.25rem 0.75rem; font-size: 0.875rem; border-radius: 0.25rem; } /* sm for Shadcn */
.btn-lg { min-height: 3.25rem; padding: 0.75rem 1.25rem; font-size: 1.125rem; border-radius: 0.5rem; } /* lg for Shadcn */


/* Card Component (Shadcn UI style) */
.card {
  padding: 1rem 1.25rem; /* 16px 20px */
  border-radius: 0.5rem; /* 8px, rounded-md (Shadcn-like) */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08); /* shadow-sm for cards */
  overflow: hidden;
  transition: box-shadow 0.2s ease-in-out;
  border: 1px solid; /* Solid border for cards */
}
body[data-theme='light'] .card { background-color: #ffffff; border-color: #ededed; }
body[data-theme='dark'] .card { background-color: #1e1e1e; border-color: #333333; }

.card:hover {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12);
}

/* Blurred Card (subtler glassmorphism) */
.card-blurred {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
body[data-theme='light'] .card-blurred {
    background-color: rgba(255, 255, 255, 0.85); /* backdrop-light-base */
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* Even subtler shadow for blurred */
    border-color: rgba(255, 255, 255, 0.2); /* Lighter border for blurred */
}
body[data-theme='dark'] .card-blurred {
    background-color: rgba(18, 18, 18, 0.75); /* backdrop-dark-base */
    color: #f0f0f0; /* light text */
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    border-color: rgba(30, 30, 30, 0.5); /* Darker border for blurred */
}


/* Form Input (Text Field - Shadcn UI style) */
.form-input-group {
    position: relative;
    display: flex;
    align-items: center;
    border: 1px solid; /* Solid border for input group */
    border-radius: 0.375rem; /* 6px, rounded-md (Shadcn default) */
    overflow: hidden;
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
body[data-theme='light'] .form-input-group {
    background-color: #ffffff; /* bg-card */
    border-color: #d4d4d4; /* light gray border */
}
body[data-theme='dark'] .form-input-group {
    background-color: #1e1e1e; /* dark bg-card */
    border-color: #666666; /* dark border */
}

.form-input-group:focus-within {
    border-color: #007aff; /* Accent Primary */
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.2); /* Light blue shadow on focus */
}
body[data-theme='dark'] .form-input-group:focus-within {
    box-shadow: 0 0 0 3px rgba(72, 138, 255, 0.2);
}

.form-input-group .form-input {
    flex-grow: 1;
    border: none;
    background-color: transparent;
    padding: 0.625rem 0.75rem; /* 10px 12px (Shadcn input padding) */
    font-size: 1rem; /* text-callout */
    line-height: 1.25rem;
    outline: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}
body[data-theme='light'] .form-input-group .form-input { color: #1a1a1a; }
body[data-theme='dark'] .form-input-group .form-input { color: #f0f0f0; }

body[data-theme='light'] .form-input-group .form-input::placeholder { color: #999999; }
body[data-theme='dark'] .form-input-group .form-input::placeholder { color: #666666; }

.form-input-icon {
    padding-left: 0.75rem; /* 12px */
    font-size: 1rem; /* text-callout */
    flex-shrink: 0;
}
body[data-theme='light'] .form-input-icon { color: #999999; }
body[data-theme='dark'] .form-input-icon { color: #666666; }

.form-input-clear-btn {
    background-color: transparent;
    border: none;
    font-size: 0.875rem; /* text-sm */
    cursor: pointer;
    padding-right: 0.75rem; /* 12px */
    display: none; /* Controlled by JS */
    flex-shrink: 0;
    opacity: 0; /* For animation */
    pointer-events: none; /* Disable interaction when hidden */
}
body[data-theme='light'] .form-input-clear-btn { color: #999999; }
body[data-theme='dark'] .form-input-clear-btn { color: #666666; }

.form-input-clear-btn.show {
    display: block;
    opacity: 1;
    pointer-events: auto;
}


/* Toggle Switch (Ionic-like) */
.modder-switch {
  position: relative;
  display: inline-block;
  width: 44px; /* Slightly smaller for Shadcn feel */
  height: 24px;
  flex-shrink: 0;
}
.modder-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.modder-switch .slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 24px; /* Pill shape */
}
body[data-theme='light'] .modder-switch .slider { background-color: #e0e0e0; }
body[data-theme='dark'] .modder-switch .slider { background-color: #333333; }


.modder-switch .slider:before {
  position: absolute;
  content: "";
  height: 20px; /* 24 - 4px (padding) */
  width: 20px;
  left: 2px;
  bottom: 2px;
  background-color: #ffffff; /* white knob */
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0,0,0,0.2), 0 0 0 0.5px rgba(0,0,0,0.05); /* Subtle knob shadow */
  transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}
.modder-switch input:checked + .slider {
  background-color: #28cd41; /* Green accent */
}
.modder-switch input:checked + .slider:before {
  transform: translateX(20px); /* Adjust based on new width */
}

/* Navigation Bar (Standard Top Bar) */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 1rem; /* 0 16px */
  height: 3.5rem; /* 56px (Shadcn default height) */
  position: sticky;
  top: 0;
  width: 100%;
  border-bottom: 1px solid; /* Stronger border for Shadcn */
  z-index: 50;
  flex-shrink: 0;
}
body[data-theme='light'] .navbar {
  background-color: rgba(255, 255, 255, 0.95); /* Near opaque white blurred */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-color: #ededed;
}
body[data-theme='dark'] .navbar {
  background-color: rgba(18, 18, 18, 0.95); /* Near opaque dark blurred */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-color: #333333;
}

.navbar-title {
  font-size: 1.125rem; /* text-lg */
  font-weight: 600; /* font-semibold */
  flex-grow: 1;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
body[data-theme='light'] .navbar-title { color: #1a1a1a; }
body[data-theme='dark'] .navbar-title { color: #f0f0f0; }

.navbar-left, .navbar-right {
  display: flex;
  align-items: center;
  min-width: 40px; /* Tappable area */
  height: 40px;
}
.navbar-right { justify-content: flex-end; }
.navbar .btn-ghost {
  font-size: 1rem; /* text-callout */
  font-weight: 500;
  padding: 0.5rem; /* Match tap target */
  min-height: 40px;
}
body[data-theme='light'] .navbar .btn-ghost { color: #1a1a1a; }
body[data-theme='dark'] .navbar .btn-ghost { color: #f0f0f0; }


/* Large Title Navigation Bar (for home/list views) */
.navbar-large-title {
  padding: 0.5rem 1.5rem; /* 8px 24px (Shadcn-like padding) */
  position: sticky;
  top: 0;
  width: 100%;
  z-index: 49;
  border-bottom: 1px solid; /* Stronger border */
}
body[data-theme='light'] .navbar-large-title {
  background-color: #f8f8f8; /* bg-page */
  border-color: #ededed;
}
body[data-theme='dark'] .navbar-large-title {
  background-color: #121212; /* dark bg-page */
  border-color: #333333;
}

.navbar-large-title .large-title {
  font-size: 2.5rem; /* Slightly smaller than Apple's 44px, more web-friendly */
  font-weight: 700; /* font-bold */
}
body[data-theme='light'] .navbar-large-title .large-title { color: #1a1a1a; }
body[data-theme='dark'] .navbar-large-title .large-title { color: #f0f0f0; }

.navbar-large-title .search-bar-container {
    padding: 0.5rem 0; /* padding for search bar below title */
    background-color: transparent; /* Override search-bar-container's own padding/bg */
}
.search-bar-cancel-btn { /* Hide for large title search bar */
    display: none !important;
}


/* Alert Component (Modal - Shadcn UI style) */
.alert-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}
.alert-overlay.show {
  opacity: 1;
  visibility: visible;
}
.alert {
  border-radius: 0.5rem; /* 8px, rounded-md */
  width: 20rem; /* 320px */
  max-width: 90%;
  text-align: left; /* Align text left */
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  overflow: hidden;
  transform: translateY(-20px); /* Initial state for animation */
  transition: transform 0.3s ease-out, opacity 0.3s ease-out; /* Simple fade/slide */
  opacity: 0;
}
body[data-theme='light'] .alert { background-color: #ffffff; }
body[data-theme='dark'] .alert { background-color: #1e1e1e; }

.alert-overlay.show .alert {
  transform: translateY(0);
  opacity: 1;
}
.alert-header {
  padding: 1.5rem; /* 24px */
  padding-bottom: 0.5rem; /* 8px */
}
.alert-title {
  font-size: 1.125rem; /* text-lg */
  font-weight: 600; /* font-semibold */
  margin-bottom: 0.5rem;
}
.alert-message {
  font-size: 0.9375rem; /* text-subheadline */
  padding: 0 1.5rem 1.5rem; /* 0 24px 24px */
}
.alert-buttons {
  display: flex;
  justify-content: flex-end; /* Push buttons to right */
  padding: 0.75rem 1.5rem; /* 12px 24px */
  gap: 0.5rem; /* 8px gap between buttons */
  border-top: 1px solid; /* Solid border for Shadcn */
}
body[data-theme='light'] .alert-buttons { border-color: #ededed; }
body[data-theme='dark'] .alert-buttons { border-color: #333333; }

.alert-button {
  min-height: 2.5rem; /* Shadcn button height */
  padding: 0.5rem 1rem;
  border-radius: 0.375rem; /* 6px */
  font-size: 0.9375rem; /* text-subheadline */
  font-weight: 500;
  cursor: pointer;
  border: 1px solid transparent;
  transition: all 0.2s ease-in-out;
}
.alert-button.btn-default { background-color: #1a1a1a; color: #ffffff; border-color: #1a1a1a; }
body[data-theme='dark'] .alert-button.btn-default { background-color: #f0f0f0; color: #1a1a1a; border-color: #f0f0f0; }

.alert-button.btn-outline { background-color: transparent; border-color: #d4d4d4; }
body[data-theme='dark'] .alert-button.btn-outline { border-color: #666666; }
body[data-theme='light'] .alert-button.btn-outline { color: #1a1a1a; }
body[data-theme='dark'] .alert-button.btn-outline { color: #f0f0f0; }


/* Action Sheet (Bottom Sheet - Shadcn UI style) */
.action-sheet-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  display: flex;
  justify-content: center;
  align-items: flex-end; /* Align to bottom */
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}
.action-sheet-overlay.show {
  opacity: 1;
  visibility: visible;
}
.action-sheet {
  width: 100%;
  max-width: 30rem; /* Max width for larger screens */
  border-top-left-radius: 0.75rem; /* rounded-xl (Shadcn-like) */
  border-top-right-radius: 0.75rem;
  padding: 1.5rem; /* 24px padding */
  padding-bottom: calc(1.5rem + env(safe-area-inset-bottom, 0px)); /* Safe area */
  transform: translateY(100%);
  transition: transform 0.3s ease-out;
  box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.1); /* Subtle top shadow */
}
body[data-theme='light'] .action-sheet { background-color: #ffffff; }
body[data-theme='dark'] .action-sheet { background-color: #1e1e1e; }

.action-sheet-overlay.show .action-sheet {
  transform: translateY(0);
}
.action-sheet-header {
  margin-bottom: 1rem;
}
.action-sheet-title {
    font-size: 1.125rem; /* text-lg */
    font-weight: 600;
    margin-bottom: 0.25rem;
}
.action-sheet-description {
    font-size: 0.9375rem; /* text-subheadline */
}
body[data-theme='light'] .action-sheet-description { color: #666666; }
body[data-theme='dark'] .action-sheet-description { color: #cccccc; }

.action-sheet-content {
    display: flex;
    flex-direction: column;
    gap: 0.5rem; /* 8px gap */
}
.action-sheet-item {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem; /* 12px 16px */
  font-size: 1rem; /* text-callout */
  font-weight: 400;
  background-color: transparent;
  border: 1px solid transparent; /* Shadcn-like border */
  border-radius: 0.375rem; /* 6px */
  cursor: pointer;
  width: 100%;
  justify-content: flex-start; /* Align text left */
}
body[data-theme='light'] .action-sheet-item { color: #1a1a1a; }
body[data-theme='dark'] .action-sheet-item { color: #f0f0f0; }

body[data-theme='light'] .action-sheet-item:hover { background-color: #f0f0f0; }
body[data-theme='dark'] .action-sheet-item:hover { background-color: #2a2a2a; }

.action-sheet-item i {
    margin-right: 0.75rem; /* 12px */
    font-size: 1.125rem;
}
.action-sheet-item.destructive { color: #eb445a; }
body[data-theme='dark'] .action-sheet-item.destructive { color: #ff6b8a; }


/* List Row / Table View Cell (Shadcn UI style) */
.list-row {
  display: flex;
  align-items: center;
  min-height: 2.5rem; /* 40px (Shadcn height) */
  padding: 0.625rem 1rem; /* 10px 16px (Shadcn padding) */
  cursor: pointer;
  transition: background-color 0.1s ease-in-out;
  border-bottom: 1px solid; /* Stronger border for Shadcn */
}
body[data-theme='light'] .list-row { background-color: #ffffff; border-color: #ededed; color: #1a1a1a; }
body[data-theme='dark'] .list-row { background-color: #1e1e1e; border-color: #333333; color: #f0f0f0; }

body[data-theme='light'] .list-row:hover { background-color: #f7f7f7; }
body[data-theme='light'] .list-row:active { background-color: #ededed; }
body[data-theme='dark'] .list-row:hover { background-color: #2a2a2a; }
body[data-theme='dark'] .list-row:active { background-color: #3a3a3c; }

.list-row:last-child { border-bottom: none; }
.list-row-title {
  flex-grow: 1;
  font-size: 1rem; /* text-callout */
}
.list-row-detail {
  font-size: 1rem; /* text-callout */
  margin-left: 0.5rem; /* 8px */
}
body[data-theme='light'] .list-row-detail { color: #666666; }
body[data-theme='dark'] .list-row-detail { color: #cccccc; }

.list-row-accessory {
  font-size: 1.125rem; /* For disclosure indicator or icons */
  margin-left: 0.5rem;
  line-height: 1;
}
body[data-theme='light'] .list-row-accessory { color: #999999; }
body[data-theme='dark'] .list-row-accessory { color: #666666; }

/* Grouped List Container (Shadcn-like focus on rounded corners/shadows) */
.list-group {
    margin: 1.5rem 0; /* 24px top/bottom margin */
    border-radius: 0.5rem; /* rounded-md */
    overflow: hidden;
    box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.08); /* subtle outline */
    border: 1px solid;
}
body[data-theme='light'] .list-group { background-color: #ffffff; border-color: #ededed; }
body[data-theme='dark'] .list-group { background-color: #1e1e1e; border-color: #333333; }

.list-group-title {
    font-size: 0.875rem; /* text-sm */
    font-weight: 500; /* font-medium */
    padding: 0.75rem 1.5rem 0.25rem; /* 12px 24px 4px (Shadcn-like spacing) */
    text-transform: uppercase;
    letter-spacing: 0.05em;
}
body[data-theme='light'] .list-group-title { color: #666666; }
body[data-theme='dark'] .list-group-title { color: #999999; }


/* Segmented Control (Cleaner, Ionic-like) */
.segmented-control {
    display: flex;
    border-radius: 0.625rem; /* rounded-lg */
    padding: 2px;
    width: fit-content;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) inset; /* Subtle inner shadow */
}
body[data-theme='light'] .segmented-control { background-color: #ededed; }
body[data-theme='dark'] .segmented-control { background-color: #333333; }

.segmented-control-item {
    flex-grow: 1;
    text-align: center;
    padding: 0.375rem 0.75rem; /* 6px 12px */
    min-width: 44px; /* Tap target */
    font-size: 0.9375rem; /* text-subheadline */
    font-weight: 400; /* normal */
    cursor: pointer;
    border-radius: 0.5rem; /* rounded-md for segments */
    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
body[data-theme='light'] .segmented-control-item { color: #1a1a1a; }
body[data-theme='dark'] .segmented-control-item { color: #f0f0f0; }

.segmented-control-item.active {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* segment shadow */
    font-weight: 500; /* font-medium when active */
}
body[data-theme='light'] .segmented-control-item.active { background-color: #ffffff; color: #1a1a1a; }
body[data-theme='dark'] .segmented-control-item.active { background-color: #1e1e1e; color: #f0f0f0; }

body[data-theme='light'] .segmented-control-item:hover:not(.active) { background-color: rgba(0, 0, 0, 0.03); }
body[data-theme='dark'] .segmented-control-item:hover:not(.active) { background-color: rgba(255, 255, 255, 0.03); }


/* Progress Indicators */
.progress-bar-linear {
    width: 100%;
    height: 4px;
    border-radius: 2px;
    overflow: hidden;
}
body[data-theme='light'] .progress-bar-linear { background-color: #e0e0e0; }
body[data-theme='dark'] .progress-bar-linear { background-color: #333333; }

.progress-bar-linear-fill {
    height: 100%;
    background-color: #007aff; /* Accent Primary */
    width: 0%; /* Controlled by JS */
    transition: width 0.3s ease-out;
    border-radius: 2px;
}
.progress-bar-circular {
    display: inline-block;
    width: 24px;
    height: 24px;
    border: 3px solid;
    border-top: 3px solid; /* Accent Primary */
    border-radius: 50%;
    animation: spin 1s linear infinite;
}
body[data-theme='light'] .progress-bar-circular { border-color: #e0e0e0; border-top-color: #007aff; }
body[data-theme='dark'] .progress-bar-circular { border-color: #333333; border-top-color: #488aff; }
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Page Control */
.page-control {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.375rem; /* 6px */
    padding: 0.5rem;
}
.page-control-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out;
}
body[data-theme='light'] .page-control-dot { background-color: #e0e0e0; }
body[data-theme='dark'] .page-control-dot { background-color: #333333; }

.page-control-dot.active {
    background-color: #007aff; /* Accent Primary */
    transform: scale(1.2); /* Slightly larger active dot */
}


/* Context Menu (requires JS for full functionality) */
.context-menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.05); /* Very subtle overlay for context menu */
    display: none; /* Controlled by JS */
    z-index: 2000; /* Very high z-index */
}
.context-menu {
    position: absolute; /* Positioned by JS */
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-radius: 0.75rem; /* rounded-xl */
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15), 0 8px 32px rgba(0, 0, 0, 0.1); /* Deeper shadow */
    min-width: 12rem; /* 192px */
    overflow: hidden;
    padding: 0.5rem 0; /* 8px top/bottom padding */
    opacity: 0; /* For animation */
    transform: scale(0.95); /* For animation */
    transition: opacity 0.2s ease-out, transform 0.2s ease-out;
}
body[data-theme='light'] .context-menu { background-color: rgba(255, 255, 255, 0.9); }
body[data-theme='dark'] .context-menu { background-color: rgba(30, 30, 30, 0.9); }

.context-menu-overlay.show .context-menu {
    opacity: 1;
    transform: scale(1);
}
.context-menu-item {
    display: flex;
    align-items: center;
    padding: 0.625rem 1rem; /* 10px 16px */
    font-size: 1.0625rem; /* text-body */
    cursor: pointer;
    transition: background-color 0.1s ease-in-out;
}
body[data-theme='light'] .context-menu-item { color: #1a1a1a; }
body[data-theme='dark'] .context-menu-item { color: #f0f0f0; }

body[data-theme='light'] .context-menu-item i { color: #666666; }
body[data-theme='dark'] .context-menu-item i { color: #999999; }

body[data-theme='light'] .context-menu-item:hover { background-color: rgba(0, 0, 0, 0.05); }
body[data-theme='dark'] .context-menu-item:hover { background-color: rgba(255, 255, 255, 0.05); }
body[data-theme='light'] .context-menu-item:active { background-color: rgba(0, 0, 0, 0.1); }
body[data-theme='dark'] .context-menu-item:active { background-color: rgba(255, 255, 255, 0.1); }

.context-menu-item.destructive { color: #eb445a; }
.context-menu-item.disabled { opacity: 0.5; pointer-events: none; }
.context-menu-separator {
    height: 0.5px;
    background-color: rgba(0, 0, 0, 0.1);
    margin: 0.5rem 0;
}
body[data-theme='dark'] .context-menu-separator { background-color: rgba(255, 255, 255, 0.1); }

/* Collection View Cell (Grid Item - simplified) */
.collection-cell {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 0.5rem;
    border-radius: 0.625rem; /* rounded-lg */
    box-shadow: 0 0 0 0.5px rgba(0,0,0,0.08); /* Subtle outline */
    transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
    cursor: pointer;
}
body[data-theme='light'] .collection-cell { background-color: #ffffff; }
body[data-theme='dark'] .collection-cell { background-color: #1e1e1e; }

.collection-cell:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.collection-cell-icon {
    width: 60px;
    height: 60px;
    border-radius: 0.5rem; /* rounded-md */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: #007aff;
    margin-bottom: 0.5rem;
}
body[data-theme='light'] .collection-cell-icon { background-color: #f0f0f0; }
body[data-theme='dark'] .collection-cell-icon { background-color: #2a2a2a; }

.collection-cell-title {
    font-size: 0.875rem; /* text-sm */
    font-weight: 500; /* font-medium */
    line-height: 1.1;
}
body[data-theme='light'] .collection-cell-title { color: #1a1a1a; }
body[data-theme='dark'] .collection-cell-title { color: #f0f0f0; }

/* ========================================= */
/* End ModderUI CSS                          */
/* ========================================= */